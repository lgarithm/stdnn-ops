MESSAGE(DEBUG "Using OpenBLAS")
ADD_DEFINITIONS(-DSTDNN_OPS_HAVE_CBLAS)
IF(APPLE)
    FIND_PACKAGE(OpenBLAS REQUIRED)
    INCLUDE_DIRECTORIES($ENV{HOME}/local/openblas/include)
    LINK_DIRECTORIES($ENV{HOME}/local/openblas/lib)
ELSEIF(BLAS_HOME)
    INCLUDE_DIRECTORIES(${BLAS_HOME}/include)
    LINK_DIRECTORIES(${BLAS_HOME}/lib)
ELSE()
    # https://cmake.org/cmake/help/v3.0/module/FindBLAS.html
    SET(BLA_VENDOR "OpenBLAS")
    FIND_PACKAGE(BLAS REQUIRED)
    INCLUDE_DIRECTORIES(${OpenBLAS_INCLUDE_DIRS})
ENDIF()

FUNCTION(TARGET_USE_BLAS target)
    TARGET_LINK_LIBRARIES(${target} openblas)
ENDFUNCTION()
